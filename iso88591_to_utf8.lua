iso88591_to_utf8 = {
["\128"]="\194\128",
["\129"]="\194\129",
["\130"]="\194\130",
["\131"]="\194\131",
["\132"]="\194\132",
["\133"]="\194\133",
["\134"]="\194\134",
["\135"]="\194\135",
["\136"]="\194\136",
["\137"]="\194\137",
["\138"]="\194\138",
["\139"]="\194\139",
["\140"]="\194\140",
["\141"]="\194\141",
["\142"]="\194\142",
["\143"]="\194\143",
["\144"]="\194\144",
["\145"]="\194\145",
["\146"]="\194\146",
["\147"]="\194\147",
["\148"]="\194\148",
["\149"]="\194\149",
["\150"]="\194\150",
["\151"]="\194\151",
["\152"]="\194\152",
["\153"]="\194\153",
["\154"]="\194\154",
["\155"]="\194\155",
["\156"]="\194\156",
["\157"]="\194\157",
["\158"]="\194\158",
["\159"]="\194\159",
["\160"]="\194\160",
["\161"]="\194\161",
["\162"]="\194\162",
["\163"]="\194\163",
["\164"]="\194\164",
["\165"]="\194\165",
["\166"]="\194\166",
["\167"]="\194\167",
["\168"]="\194\168",
["\169"]="\194\169",
["\170"]="\194\170",
["\171"]="\194\171",
["\172"]="\194\172",
["\173"]="\194\173",
["\174"]="\194\174",
["\175"]="\194\175",
["\176"]="\194\176",
["\177"]="\194\177",
["\178"]="\194\178",
["\179"]="\194\179",
["\180"]="\194\180",
["\181"]="\194\181",
["\182"]="\194\182",
["\183"]="\194\183",
["\184"]="\194\184",
["\185"]="\194\185",
["\186"]="\194\186",
["\187"]="\194\187",
["\188"]="\194\188",
["\189"]="\194\189",
["\190"]="\194\190",
["\191"]="\194\191",
["\192"]="\195\128",
["\193"]="\195\129",
["\194"]="\195\130",
["\195"]="\195\131",
["\196"]="\195\132",
["\197"]="\195\133",
["\198"]="\195\134",
["\199"]="\195\135",
["\200"]="\195\136",
["\201"]="\195\137",
["\202"]="\195\138",
["\203"]="\195\139",
["\204"]="\195\140",
["\205"]="\195\141",
["\206"]="\195\142",
["\207"]="\195\143",
["\208"]="\195\144",
["\209"]="\195\145",
["\210"]="\195\146",
["\211"]="\195\147",
["\212"]="\195\148",
["\213"]="\195\149",
["\214"]="\195\150",
["\215"]="\195\151",
["\216"]="\195\152",
["\217"]="\195\153",
["\218"]="\195\154",
["\219"]="\195\155",
["\220"]="\195\156",
["\221"]="\195\157",
["\222"]="\195\158",
["\223"]="\195\159",
["\224"]="\195\160",
["\225"]="\195\161",
["\226"]="\195\162",
["\227"]="\195\163",
["\228"]="\195\164",
["\229"]="\195\165",
["\230"]="\195\166",
["\231"]="\195\167",
["\232"]="\195\168",
["\233"]="\195\169",
["\234"]="\195\170",
["\235"]="\195\171",
["\236"]="\195\172",
["\237"]="\195\173",
["\238"]="\195\174",
["\239"]="\195\175",
["\240"]="\195\176",
["\241"]="\195\177",
["\242"]="\195\178",
["\243"]="\195\179",
["\244"]="\195\180",
["\245"]="\195\181",
["\246"]="\195\182",
["\247"]="\195\183",
["\248"]="\195\184",
["\249"]="\195\185",
["\250"]="\195\186",
["\251"]="\195\187",
["\252"]="\195\188",
["\253"]="\195\189",
["\254"]="\195\190",
["\255"]="\195\191"}

function iso88591_to_utf8.convert(self,txt)
	if type(txt) == "string" then self=txt end
	return string.gsub(txt,"[\128-\255]", function (c) return iso88591_to_utf8[c] end)
end

iso88591_to_utf8 = setmetatable(iso88591_to_utf8, {__call = iso88591_to_utf8.convert})